(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39150768"],{"0c16":function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n=function(){function t(){var t=this;this.platform="web",this.isNative=!1,this.Plugins={},"undefined"!==typeof Proxy&&(this.Plugins=new Proxy(this.Plugins,{get:function(e,r){if("undefined"===typeof e[r]){var n=t;return new Proxy({},{get:function(t,e){return"undefined"===typeof t[e]?n.pluginMethodNoop.bind(n,t,e,r):t[e]}})}return e[r]}}))}return t.prototype.pluginMethodNoop=function(t,e,r){return Promise.reject(r+" does not have web implementation.")},t.prototype.getPlatform=function(){return this.platform},t.prototype.isPluginAvailable=function(t){return this.Plugins.hasOwnProperty(t)},t.prototype.convertFileSrc=function(t){return t},t.prototype.handleError=function(t){console.error(t)},t}()},"20c1":function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o}));var n=r("0c16"),i=function(t){return t.Capacitor=t.Capacitor||new n["a"]}("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:{}),o=i.Plugins}).call(this,r("c8ba"))},c2a8:function(t,e,r){"use strict";r.r(e),r.d(e,"GoogleSignInResult",(function(){return y})),r.d(e,"TwitterSignInResult",(function(){return m})),r.d(e,"FacebookSignInResult",(function(){return g})),r.d(e,"PhoneSignInResult",(function(){return _})),r.d(e,"cfaSignIn",(function(){return Ct})),r.d(e,"cfaSignInGoogle",(function(){return Dt})),r.d(e,"cfaSignInTwitter",(function(){return Lt})),r.d(e,"cfaSignInFacebook",(function(){return kt})),r.d(e,"cfaSignInPhone",(function(){return Ft})),r.d(e,"cfaSignInPhoneOnCodeSent",(function(){return Ut})),r.d(e,"cfaSignInPhoneOnCodeReceived",(function(){return Nt})),r.d(e,"cfaSignOut",(function(){return qt})),r.d(e,"mapUserToUserInfo",(function(){return be})),r.d(e,"mapUserCredentialToUserInfo",(function(){return ve})),r.d(e,"CapacitorFirebaseAuthWeb",(function(){return Rt})),r.d(e,"CapacitorFirebaseAuth",(function(){return Tt}));var n,i,o,s,c,u,a,d,h,f,p,l,b,v,w=r("59ca");r("ea7b");class y{constructor(t){this.idToken=t,this.providerId=w["auth"].GoogleAuthProvider.PROVIDER_ID}}class m{constructor(t,e){this.idToken=t,this.secret=e,this.providerId=w["auth"].TwitterAuthProvider.PROVIDER_ID}}class g{constructor(t){this.idToken=t,this.providerId=w["auth"].FacebookAuthProvider.PROVIDER_ID}}class _{constructor(t,e){this.verificationId=t,this.verificationCode=e,this.providerId=w["auth"].PhoneAuthProvider.PROVIDER_ID}}(function(t){t["Prompt"]="PROMPT",t["Camera"]="CAMERA",t["Photos"]="PHOTOS"})(n||(n={})),function(t){t["Rear"]="REAR",t["Front"]="FRONT"}(i||(i={})),function(t){t["Uri"]="uri",t["Base64"]="base64",t["DataUrl"]="dataUrl"}(o||(o={})),function(t){t["Documents"]="DOCUMENTS",t["Data"]="DATA",t["Cache"]="CACHE",t["External"]="EXTERNAL",t["ExternalStorage"]="EXTERNAL_STORAGE"}(s||(s={})),function(t){t["UTF8"]="utf8",t["ASCII"]="ascii",t["UTF16"]="utf16"}(c||(c={})),function(t){t["Heavy"]="HEAVY",t["Medium"]="MEDIUM",t["Light"]="LIGHT"}(u||(u={})),function(t){t["SUCCESS"]="SUCCESS",t["WARNING"]="WARNING",t["ERROR"]="ERROR"}(a||(a={})),function(t){t["Dark"]="DARK",t["Light"]="LIGHT"}(d||(d={})),function(t){t["Body"]="body",t["Ionic"]="ionic",t["Native"]="native",t["None"]="none"}(h||(h={})),function(t){t["Default"]="DEFAULT",t["Destructive"]="DESTRUCTIVE",t["Cancel"]="CANCEL"}(f||(f={})),function(t){t["Camera"]="camera",t["Photos"]="photos",t["Geolocation"]="geolocation",t["Notifications"]="notifications",t["ClipboardRead"]="clipboard-read",t["ClipboardWrite"]="clipboard-write",t["Microphone"]="microphone"}(p||(p={})),function(t){t["Smart"]="smart",t["Shared"]="shared",t["User"]="user"}(l||(l={})),function(t){t["Dark"]="DARK",t["Light"]="LIGHT"}(b||(b={})),function(t){t["None"]="NONE",t["Slide"]="SLIDE",t["Fade"]="FADE"}(v||(v={}));var P=r("20c1"),x=function(){function t(){this.plugins={},this.loadedPlugins={}}return t.prototype.addPlugin=function(t){this.plugins[t.config.name]=t},t.prototype.getPlugin=function(t){return this.plugins[t]},t.prototype.loadPlugin=function(t){var e=this.getPlugin(t);e?e.load():console.error("Unable to load web plugin "+t+", no such plugin found.")},t.prototype.getPlugins=function(){var t=[];for(var e in this.plugins)t.push(this.plugins[e]);return t},t}(),O=new x,E=function(){function t(t,e){this.config=t,this.loaded=!1,this.listeners={},this.windowListeners={},e?e.addPlugin(this):O.addPlugin(this)}return t.prototype.addWindowListener=function(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0},t.prototype.removeWindowListener=function(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)},t.prototype.addListener=function(t,e){var r=this,n=this.listeners[t];n||(this.listeners[t]=[]),this.listeners[t].push(e);var i=this.windowListeners[t];return i&&!i.registered&&this.addWindowListener(i),{remove:function(){r.removeListener(t,e)}}},t.prototype.removeListener=function(t,e){var r=this.listeners[t];if(r){var n=r.indexOf(e);this.listeners[t].splice(n,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}},t.prototype.removeAllListeners=function(){for(var t in this.listeners={},this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}},t.prototype.notifyListeners=function(t,e){var r=this.listeners[t];r&&r.forEach((function(t){return t(e)}))},t.prototype.hasListeners=function(t){return!!this.listeners[t].length},t.prototype.registerWindowListener=function(t,e){var r=this;this.windowListeners[e]={registered:!1,windowEventName:t,pluginEventName:e,handler:function(t){r.notifyListeners(e,t)}}},t.prototype.requestPermissions=function(){return Capacitor.isNative?Capacitor.nativePromise(this.config.name,"requestPermissions",{}):Promise.resolve({results:[]})},t.prototype.load=function(){this.loaded=!0},t}(),S=function(t){return t.config.platforms&&t.config.platforms.indexOf(Capacitor.platform)>=0},j=function(t){for(var e=O.getPlugins(),r=0,n=e;r<n.length;r++){var i=n[r];I(t,i)}},I=function(t,e){t.hasOwnProperty(e.config.name)&&!S(e)||(t[e.config.name]=e)},R=r("9ab4"),T=function(t){function e(){return t.call(this,{name:"Accessibility",platforms:["web"]})||this}return Object(R["__extends"])(e,t),e.prototype.isScreenReaderEnabled=function(){throw new Error("Feature not available in the browser")},e.prototype.speak=function(t){if(!("speechSynthesis"in window))return Promise.reject("Browser does not support the Speech Synthesis API");var e=new SpeechSynthesisUtterance(t.value);return t.language&&(e.lang=t.language),window.speechSynthesis.speak(e),Promise.resolve()},e}(E),A=(new T,function(t){function e(){var e=t.call(this,{name:"App",platforms:["web"]})||this;return"undefined"!==typeof document&&document.addEventListener("visibilitychange",e.handleVisibilityChange.bind(e),!1),e}return Object(R["__extends"])(e,t),e.prototype.exitApp=function(){throw new Error("Method not implemented.")},e.prototype.canOpenUrl=function(t){return Promise.resolve({value:!0})},e.prototype.openUrl=function(t){return Promise.resolve({completed:!0})},e.prototype.getLaunchUrl=function(){return Promise.resolve({url:""})},e.prototype.getState=function(){return Promise.resolve({isActive:!0!==document.hidden})},e.prototype.handleVisibilityChange=function(){var t={isActive:!0!==document.hidden};this.notifyListeners("appStateChange",t)},e}(E)),C=(new A,function(t){function e(){return t.call(this,{name:"Browser",platforms:["web"]})||this}return Object(R["__extends"])(e,t),e.prototype.open=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){return Object(R["__generator"])(this,(function(e){return this._lastWindow=window.open(t.url,t.windowName||"_blank"),[2,Promise.resolve()]}))}))},e.prototype.prefetch=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){return Object(R["__generator"])(this,(function(t){return[2,Promise.resolve()]}))}))},e.prototype.close=function(){return Object(R["__awaiter"])(this,void 0,void 0,(function(){return Object(R["__generator"])(this,(function(t){return this._lastWindow&&this._lastWindow.close(),[2,Promise.resolve()]}))}))},e}(E)),D=(new C,function(t){function e(){return t.call(this,{name:"Camera",platforms:["web"]})||this}return Object(R["__extends"])(e,t),e.prototype.getPhoto=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var e=this;return Object(R["__generator"])(this,(function(r){return[2,new Promise((function(r,n){return Object(R["__awaiter"])(e,void 0,void 0,(function(){var e,i=this;return Object(R["__generator"])(this,(function(o){switch(o.label){case 0:return t.webUseInput?(this.fileInputExperience(t,r),[3,7]):[3,1];case 1:if(!customElements.get("pwa-camera-modal"))return[3,6];e=document.createElement("pwa-camera-modal"),document.body.appendChild(e),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,e.componentOnReady()];case 3:return o.sent(),e.addEventListener("onPhoto",(function(o){return Object(R["__awaiter"])(i,void 0,void 0,(function(){var i,s;return Object(R["__generator"])(this,(function(c){switch(c.label){case 0:return i=o.detail,null!==i?[3,1]:(n("User cancelled photos app"),[3,4]);case 1:return i instanceof Error?(n(i.message),[3,4]):[3,2];case 2:return s=r,[4,this._getCameraPhoto(i,t)];case 3:s.apply(void 0,[c.sent()]),c.label=4;case 4:return e.dismiss(),document.body.removeChild(e),[2]}}))}))})),e.present(),[3,5];case 4:return o.sent(),this.fileInputExperience(t,r),[3,5];case 5:return[3,7];case 6:console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/pwa-elements."),this.fileInputExperience(t,r),o.label=7;case 7:return[2]}}))}))}))]}))}))},e.prototype.fileInputExperience=function(t,e){var r=document.querySelector("#_capacitor-camera-input"),s=function(){r.parentNode&&r.parentNode.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input",r.type="file",document.body.appendChild(r)),r.accept="image/*",r.capture=!0,t.source===n.Photos||t.source===n.Prompt?r.removeAttribute("capture"):t.direction===i.Front?r.capture="user":t.direction===i.Rear&&(r.capture="environment"),r.addEventListener("change",(function(n){var i=r.files[0],c="jpeg";if("image/png"===i.type?c="png":"image/gif"===i.type&&(c="gif"),t.resultType===o.DataUrl||t.resultType===o.Base64){var u=new FileReader;u.addEventListener("load",(function(){if(t.resultType===o.DataUrl)e({dataUrl:u.result,format:c});else if(t.resultType===o.Base64){var r=u.result.split(",")[1];e({base64String:r,format:c})}s()})),u.readAsDataURL(i)}else e({webPath:URL.createObjectURL(i),format:c}),s()})),r.click()},e.prototype._getCameraPhoto=function(t,e){return new Promise((function(r,n){var i=new FileReader,s=t.type.split("/")[1];e.resultType===o.Uri?r({webPath:URL.createObjectURL(t),format:s}):(i.readAsDataURL(t),i.onloadend=function(){var t=i.result;e.resultType===o.DataUrl?r({dataUrl:t,format:s}):r({base64String:t.split(",")[1],format:s})},i.onerror=function(t){n(t)})}))},e}(E)),L=(new D,function(t){function e(){return t.call(this,{name:"Clipboard",platforms:["web"]})||this}return Object(R["__extends"])(e,t),e.prototype.write=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var e,r,n;return Object(R["__generator"])(this,(function(i){switch(i.label){case 0:return navigator.clipboard?void 0!==t.string||t.url?navigator.clipboard.writeText?[4,navigator.clipboard.writeText(void 0!==t.string?t.string:t.url)]:[2,Promise.reject("Writting to clipboard not supported in this browser")]:[3,2]:[2,Promise.reject("Clipboard API not available in this browser")];case 1:return i.sent(),[3,10];case 2:if(!t.image)return[3,9];if(!navigator.clipboard.write)return[2,Promise.reject("Setting images not supported in this browser")];i.label=3;case 3:return i.trys.push([3,7,,8]),[4,fetch(t.image)];case 4:return[4,i.sent().blob()];case 5:return e=i.sent(),r=new ClipboardItem((n={},n[e.type]=e,n)),[4,navigator.clipboard.write([r])];case 6:return i.sent(),[3,8];case 7:return i.sent(),[2,Promise.reject("Failed to write image")];case 8:return[3,10];case 9:return[2,Promise.reject("Nothing to write")];case 10:return[2,Promise.resolve()]}}))}))},e.prototype.read=function(){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var t,e,r,n;return Object(R["__generator"])(this,(function(i){switch(i.label){case 0:return navigator.clipboard?navigator.clipboard.read?[3,1]:navigator.clipboard.readText?[2,this.readText()]:[2,Promise.reject("Reading from clipboard not supported in this browser")]:[2,Promise.reject("Clipboard API not available in this browser")];case 1:return i.trys.push([1,5,,6]),[4,navigator.clipboard.read()];case 2:return t=i.sent(),e=t[0].types[0],[4,t[0].getType(e)];case 3:return r=i.sent(),[4,this._getBlobData(r,e)];case 4:return n=i.sent(),[2,Promise.resolve({value:n,type:e})];case 5:return i.sent(),[2,this.readText()];case 6:return[2]}}))}))},e.prototype.readText=function(){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var t;return Object(R["__generator"])(this,(function(e){switch(e.label){case 0:return[4,navigator.clipboard.readText()];case 1:return t=e.sent(),[2,Promise.resolve({value:t,type:"text/plain"})]}}))}))},e.prototype._getBlobData=function(t,e){return new Promise((function(r,n){var i=new FileReader;e.includes("image")?i.readAsDataURL(t):i.readAsText(t),i.onloadend=function(){var t=i.result;r(t)},i.onerror=function(t){n(t)}}))},e}(E)),k=(new L,function(t){function e(){var e=t.call(this,{name:"Filesystem",platforms:["web"]})||this;return e.DEFAULT_DIRECTORY=s.Data,e.DB_VERSION=1,e.DB_NAME="Disc",e._writeCmds=["add","put","delete"],e}return Object(R["__extends"])(e,t),e.prototype.initDb=function(){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var t=this;return Object(R["__generator"])(this,(function(r){if(void 0!==this._db)return[2,this._db];if(!("indexedDB"in window))throw new Error("This browser doesn't support IndexedDB");return[2,new Promise((function(r,n){var i=indexedDB.open(t.DB_NAME,t.DB_VERSION);i.onupgradeneeded=e.doUpgrade,i.onsuccess=function(){t._db=i.result,r(i.result)},i.onerror=function(){return n(i.error)},i.onblocked=function(){console.warn("db blocked")}}))]}))}))},e.doUpgrade=function(t){var e=t.target,r=e.result;switch(t.oldVersion){case 0:case 1:default:r.objectStoreNames.contains("FileStorage")&&r.deleteObjectStore("FileStorage");var n=r.createObjectStore("FileStorage",{keyPath:"path"});n.createIndex("by_folder","folder")}},e.prototype.dbRequest=function(t,e){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var r;return Object(R["__generator"])(this,(function(n){return r=-1!==this._writeCmds.indexOf(t)?"readwrite":"readonly",[2,this.initDb().then((function(n){return new Promise((function(i,o){var s=n.transaction(["FileStorage"],r),c=s.objectStore("FileStorage"),u=c[t].apply(c,e);u.onsuccess=function(){return i(u.result)},u.onerror=function(){return o(u.error)}}))}))]}))}))},e.prototype.dbIndexRequest=function(t,e,r){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var n;return Object(R["__generator"])(this,(function(i){return n=-1!==this._writeCmds.indexOf(e)?"readwrite":"readonly",[2,this.initDb().then((function(i){return new Promise((function(o,s){var c=i.transaction(["FileStorage"],n),u=c.objectStore("FileStorage"),a=u.index(t),d=a[e].apply(a,r);d.onsuccess=function(){return o(d.result)},d.onerror=function(){return s(d.error)}}))}))]}))}))},e.prototype.getPath=function(t,e){t=t||this.DEFAULT_DIRECTORY;var r=void 0!==e?e.replace(/^[/]+|[/]+$/g,""):"",n="/"+t;return""!==e&&(n+="/"+r),n},e.prototype.clear=function(){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var t,e,r;return Object(R["__generator"])(this,(function(n){switch(n.label){case 0:return[4,this.initDb()];case 1:return t=n.sent(),e=t.transaction(["FileStorage"],"readwrite"),r=e.objectStore("FileStorage"),r.clear(),[2,{}]}}))}))},e.prototype.readFile=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var e,r;return Object(R["__generator"])(this,(function(n){switch(n.label){case 0:return e=this.getPath(t.directory,t.path),[4,this.dbRequest("get",[e])];case 1:if(r=n.sent(),void 0===r)throw Error("File does not exist.");return[2,{data:r.content}]}}))}))},e.prototype.writeFile=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var e,r,n,i,o,s,c,u,a,d,h;return Object(R["__generator"])(this,(function(f){switch(f.label){case 0:return e=this.getPath(t.directory,t.path),r=t.data,n=t.recursive,[4,this.dbRequest("get",[e])];case 1:if(i=f.sent(),i&&"directory"===i.type)throw"The supplied path is a directory.";return o=t.encoding,s=e.substr(0,e.lastIndexOf("/")),[4,this.dbRequest("get",[s])];case 2:return c=f.sent(),void 0!==c?[3,4]:(u=s.indexOf("/",1),-1===u?[3,4]:(a=s.substr(u),[4,this.mkdir({path:a,directory:t.directory,recursive:n})]));case 3:f.sent(),f.label=4;case 4:return d=Date.now(),h={path:e,folder:s,type:"file",size:r.length,ctime:d,mtime:d,content:!o&&r.indexOf(",")>=0?r.split(",")[1]:r},[4,this.dbRequest("put",[h])];case 5:return f.sent(),[2,{uri:h.path}]}}))}))},e.prototype.appendFile=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var e,r,n,i,o,s,c,u,a,d;return Object(R["__generator"])(this,(function(h){switch(h.label){case 0:return e=this.getPath(t.directory,t.path),r=t.data,n=e.substr(0,e.lastIndexOf("/")),i=Date.now(),o=i,[4,this.dbRequest("get",[e])];case 1:if(s=h.sent(),s&&"directory"===s.type)throw"The supplied path is a directory.";return[4,this.dbRequest("get",[n])];case 2:return c=h.sent(),void 0!==c?[3,4]:(u=n.indexOf("/",1),a=-1!==u?n.substr(u):"/",[4,this.mkdir({path:a,directory:t.directory,recursive:!0})]);case 3:h.sent(),h.label=4;case 4:return void 0!==s&&(r=s.content+r,o=s.ctime),d={path:e,folder:n,type:"file",size:r.length,ctime:o,mtime:i,content:r},[4,this.dbRequest("put",[d])];case 5:return h.sent(),[2,{}]}}))}))},e.prototype.deleteFile=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var e,r,n;return Object(R["__generator"])(this,(function(i){switch(i.label){case 0:return e=this.getPath(t.directory,t.path),[4,this.dbRequest("get",[e])];case 1:if(r=i.sent(),void 0===r)throw Error("File does not exist.");return[4,this.dbIndexRequest("by_folder","getAllKeys",[IDBKeyRange.only(e)])];case 2:if(n=i.sent(),0!==n.length)throw Error("Folder is not empty.");return[4,this.dbRequest("delete",[e])];case 3:return i.sent(),[2,{}]}}))}))},e.prototype.mkdir=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var e,r,n,i,o,s,c,u,a;return Object(R["__generator"])(this,(function(d){switch(d.label){case 0:return e=this.getPath(t.directory,t.path),r=t.recursive,n=e.substr(0,e.lastIndexOf("/")),i=(e.match(/\//g)||[]).length,[4,this.dbRequest("get",[n])];case 1:return o=d.sent(),[4,this.dbRequest("get",[e])];case 2:if(s=d.sent(),1===i)throw Error("Cannot create Root directory");if(void 0!==s)throw Error("Current directory does already exist.");if(!r&&2!==i&&void 0===o)throw Error("Parent directory must exist");return r&&2!==i&&void 0===o?(c=n.substr(n.indexOf("/",1)),[4,this.mkdir({path:c,directory:t.directory,recursive:r})]):[3,4];case 3:d.sent(),d.label=4;case 4:return u=Date.now(),a={path:e,folder:n,type:"directory",size:0,ctime:u,mtime:u},[4,this.dbRequest("put",[a])];case 5:return d.sent(),[2,{}]}}))}))},e.prototype.rmdir=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var e,r,n,i,o,s,c,u,a,d,h;return Object(R["__generator"])(this,(function(f){switch(f.label){case 0:return e=t.path,r=t.directory,n=t.recursive,i=this.getPath(r,e),[4,this.dbRequest("get",[i])];case 1:if(o=f.sent(),void 0===o)throw Error("Folder does not exist.");if("directory"!==o.type)throw Error("Requested path is not a directory");return[4,this.readdir({path:e,directory:r})];case 2:if(s=f.sent(),0!==s.files.length&&!n)throw Error("Folder is not empty");c=0,u=s.files,f.label=3;case 3:return c<u.length?(a=u[c],d=e+"/"+a,[4,this.stat({path:d,directory:r})]):[3,9];case 4:return h=f.sent(),"file"!==h.type?[3,6]:[4,this.deleteFile({path:d,directory:r})];case 5:return f.sent(),[3,8];case 6:return[4,this.rmdir({path:d,directory:r,recursive:n})];case 7:f.sent(),f.label=8;case 8:return c++,[3,3];case 9:return[4,this.dbRequest("delete",[i])];case 10:return f.sent(),[2,{}]}}))}))},e.prototype.readdir=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var e,r,n,i;return Object(R["__generator"])(this,(function(o){switch(o.label){case 0:return e=this.getPath(t.directory,t.path),[4,this.dbRequest("get",[e])];case 1:if(r=o.sent(),""!==t.path&&void 0===r)throw Error("Folder does not exist.");return[4,this.dbIndexRequest("by_folder","getAllKeys",[IDBKeyRange.only(e)])];case 2:return n=o.sent(),i=n.map((function(t){return t.substring(e.length+1)})),[2,{files:i}]}}))}))},e.prototype.getUri=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var e,r;return Object(R["__generator"])(this,(function(n){switch(n.label){case 0:return e=this.getPath(t.directory,t.path),[4,this.dbRequest("get",[e])];case 1:return r=n.sent(),void 0!==r?[3,3]:[4,this.dbRequest("get",[e+"/"])];case 2:r=n.sent(),n.label=3;case 3:if(void 0===r)throw Error("Entry does not exist.");return[2,{uri:r.path}]}}))}))},e.prototype.stat=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var e,r;return Object(R["__generator"])(this,(function(n){switch(n.label){case 0:return e=this.getPath(t.directory,t.path),[4,this.dbRequest("get",[e])];case 1:return r=n.sent(),void 0!==r?[3,3]:[4,this.dbRequest("get",[e+"/"])];case 2:r=n.sent(),n.label=3;case 3:if(void 0===r)throw Error("Entry does not exist.");return[2,{type:r.type,size:r.size,ctime:r.ctime,mtime:r.mtime,uri:r.path}]}}))}))},e.prototype.rename=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){return Object(R["__generator"])(this,(function(e){return[2,this._copy(t,!0)]}))}))},e.prototype.copy=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){return Object(R["__generator"])(this,(function(e){return[2,this._copy(t,!1)]}))}))},e.prototype._copy=function(t,e){return void 0===e&&(e=!1),Object(R["__awaiter"])(this,void 0,void 0,(function(){var r,n,i,o,s,c,u,a,d,h,f,p,l,b,v,w,y,m,g=this;return Object(R["__generator"])(this,(function(_){switch(_.label){case 0:if(r=t.to,n=t.from,i=t.directory,o=t.toDirectory,!r||!n)throw Error("Both to and from must be provided");if(o||(o=i),s=this.getPath(i,n),c=this.getPath(o,r),s===c)return[2,{}];if(c.startsWith(s))throw Error("To path cannot contain the from path");_.label=1;case 1:return _.trys.push([1,3,,6]),[4,this.stat({path:r,directory:o})];case 2:return u=_.sent(),[3,6];case 3:return _.sent(),a=r.split("/"),a.pop(),d=a.join("/"),a.length>0?[4,this.stat({path:d,directory:o})]:[3,5];case 4:if(h=_.sent(),"directory"!==h.type)throw new Error("Parent directory of the to path is a file");_.label=5;case 5:return[3,6];case 6:if(u&&"directory"===u.type)throw new Error("Cannot overwrite a directory with a file");return[4,this.stat({path:n,directory:i})];case 7:switch(f=_.sent(),p=function(t,e,r){return Object(R["__awaiter"])(g,void 0,void 0,(function(){var n,i;return Object(R["__generator"])(this,(function(s){switch(s.label){case 0:return n=this.getPath(o,t),[4,this.dbRequest("get",[n])];case 1:return i=s.sent(),i.ctime=e,i.mtime=r,[4,this.dbRequest("put",[i])];case 2:return s.sent(),[2]}}))}))},l=f.type,l){case"file":return[3,8];case"directory":return[3,15]}return[3,28];case 8:return[4,this.readFile({path:n,directory:i})];case 9:return b=_.sent(),e?[4,this.deleteFile({path:n,directory:i})]:[3,11];case 10:_.sent(),_.label=11;case 11:return[4,this.writeFile({path:r,directory:o,data:b.data})];case 12:return _.sent(),e?[4,p(r,f.ctime,f.mtime)]:[3,14];case 13:_.sent(),_.label=14;case 14:return[2,{}];case 15:if(u)throw Error("Cannot move a directory over an existing object");_.label=16;case 16:return _.trys.push([16,20,,21]),[4,this.mkdir({path:r,directory:o,recursive:!1})];case 17:return _.sent(),e?[4,p(r,f.ctime,f.mtime)]:[3,19];case 18:_.sent(),_.label=19;case 19:return[3,21];case 20:return _.sent(),[3,21];case 21:return[4,this.readdir({path:n,directory:i})];case 22:v=_.sent().files,w=0,y=v,_.label=23;case 23:return w<y.length?(m=y[w],[4,this._copy({from:n+"/"+m,to:r+"/"+m,directory:i,toDirectory:o},e)]):[3,26];case 24:_.sent(),_.label=25;case 25:return w++,[3,23];case 26:return e?[4,this.rmdir({path:n,directory:i})]:[3,28];case 27:_.sent(),_.label=28;case 28:return[2,{}]}}))}))},e._debug=!0,e}(E)),F=(new k,function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.forEach((function(e){if(e&&"object"===typeof e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})),t}),U=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,r="x"===t?e:3&e|8;return r.toString(16)}))},N=function(t){function e(){return t.call(this,{name:"Geolocation",platforms:["web"]})||this}return Object(R["__extends"])(e,t),e.prototype.getCurrentPosition=function(t){var e=this;return new Promise((function(r,n){return e.requestPermissions().then((function(e){window.navigator.geolocation.getCurrentPosition((function(t){r(t)}),(function(t){n(t)}),F({enableHighAccuracy:!0,timeout:1e4,maximumAge:0},t))}))}))},e.prototype.watchPosition=function(t,e){var r=window.navigator.geolocation.watchPosition((function(t){e(t)}),(function(t){e(null,t)}),F({enableHighAccuracy:!0,timeout:1e4,maximumAge:0},t));return""+r},e.prototype.clearWatch=function(t){return window.navigator.geolocation.clearWatch(parseInt(t.id,10)),Promise.resolve()},e}(E),q=(new N,function(t){function e(){return t.call(this,{name:"Device",platforms:["web"]})||this}return Object(R["__extends"])(e,t),e.prototype.getInfo=function(){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var t,e;return Object(R["__generator"])(this,(function(r){return t=navigator.userAgent,e=this.parseUa(t),[2,Promise.resolve({model:e.model,platform:"web",appVersion:"",appBuild:"",appId:"",appName:"",operatingSystem:e.operatingSystem,osVersion:e.osVersion,manufacturer:navigator.vendor,isVirtual:!1,uuid:this.getUid()})]}))}))},e.prototype.getBatteryInfo=function(){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var t;return Object(R["__generator"])(this,(function(e){switch(e.label){case 0:t={},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,navigator.getBattery()];case 2:return t=e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return[2,Promise.resolve({batteryLevel:t.level,isCharging:t.charging})]}}))}))},e.prototype.getLanguageCode=function(){return Object(R["__awaiter"])(this,void 0,void 0,(function(){return Object(R["__generator"])(this,(function(t){return[2,{value:navigator.language}]}))}))},e.prototype.parseUa=function(t){var e={},r=t.indexOf("(")+1,n=t.indexOf(") AppleWebKit");-1!==t.indexOf(") Gecko")&&(n=t.indexOf(") Gecko"));var i=t.substring(r,n);if(-1!==t.indexOf("Android"))e.model=i.replace("; wv","").split("; ").pop().split(" Build")[0],e.osVersion=i.split("; ")[1];else if(e.model=i.split("; ")[0],navigator.oscpu)e.osVersion=navigator.oscpu;else if(-1!==t.indexOf("Windows"))e.osVersion=i;else{var o=i.split("; ").pop().replace(" like Mac OS X","").split(" ");e.osVersion=o[o.length-1].replace(/_/g,".")}return/android/i.test(t)?e.operatingSystem="android":/iPad|iPhone|iPod/.test(t)&&!window.MSStream?e.operatingSystem="ios":/Win/.test(t)?e.operatingSystem="windows":/Mac/i.test(t)?e.operatingSystem="mac":e.operatingSystem="unknown",e},e.prototype.getUid=function(){var t=window.localStorage.getItem("_capuid");return t||(t=U(),window.localStorage.setItem("_capuid",t),t)},e}(E)),W=(new q,function(t){function e(){var e=t.call(this,{name:"LocalNotifications",platforms:["web"]})||this;return e.pending=[],e}return Object(R["__extends"])(e,t),e.prototype.createChannel=function(t){throw new Error("Feature not available in the browser. "+t.id)},e.prototype.deleteChannel=function(t){throw new Error("Feature not available in the browser. "+t.id)},e.prototype.listChannels=function(){throw new Error("Feature not available in the browser")},e.prototype.sendPending=function(){var t=this,e=[],r=+new Date;this.pending.forEach((function(n){n.schedule&&n.schedule.at&&+n.schedule.at<=r&&(t.buildNotification(n),e.push(n))})),console.log("Sent pending, removing",e),this.pending=this.pending.filter((function(t){return!e.find((function(e){return e===t}))}))},e.prototype.sendNotification=function(t){var e=this,r=t;if(t.schedule&&t.schedule.at){var n=+t.schedule.at-+new Date;return this.pending.push(r),void setTimeout((function(){e.sendPending()}),n)}this.buildNotification(t)},e.prototype.buildNotification=function(t){var e=t;return new Notification(e.title,{body:e.body})},e.prototype.schedule=function(t){var e=this,r=[];return t.notifications.forEach((function(t){r.push(e.sendNotification(t))})),Promise.resolve({notifications:t.notifications.map((function(t){return{id:""+t.id}}))})},e.prototype.getPending=function(){return Promise.resolve({notifications:this.pending.map((function(t){return{id:""+t.id}}))})},e.prototype.registerActionTypes=function(t){throw new Error("Method not implemented.")},e.prototype.cancel=function(t){return console.log("Cancel these",t),this.pending=this.pending.filter((function(e){return!t.notifications.find((function(t){return t.id===""+e.id}))})),Promise.resolve()},e.prototype.areEnabled=function(){return Promise.resolve({value:"granted"===Notification.permission})},e.prototype.requestPermission=function(){return new Promise((function(t){Notification.requestPermission((function(e){var r=!0;"denied"!==e&&"default"!==e||(r=!1),t({granted:r})}))}))},e.prototype.requestPermissions=function(){return new Promise((function(t,e){Notification.requestPermission((function(r){"denied"!==r&&"default"!==r?t({results:[r]}):e(r)}))}))},e}(E)),V=(new W,function(t){function e(){return t.call(this,{name:"Share",platforms:["web"]})||this}return Object(R["__extends"])(e,t),e.prototype.share=function(t){return navigator.share?navigator.share({title:t.title,text:t.text,url:t.url}):Promise.reject("Web Share API not available")},e}(E)),B=(new V,function(t){function e(){return t.call(this,{name:"Modals",platforms:["web"]})||this}return Object(R["__extends"])(e,t),e.prototype.alert=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){return Object(R["__generator"])(this,(function(e){return window.alert(t.message),[2,Promise.resolve()]}))}))},e.prototype.prompt=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var e;return Object(R["__generator"])(this,(function(r){return e=window.prompt(t.message,t.inputText||""),[2,Promise.resolve({value:e,cancelled:null===e})]}))}))},e.prototype.confirm=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var e;return Object(R["__generator"])(this,(function(r){return e=window.confirm(t.message),[2,Promise.resolve({value:e})]}))}))},e.prototype.showActions=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var e=this;return Object(R["__generator"])(this,(function(r){return[2,new Promise((function(r,n){return Object(R["__awaiter"])(e,void 0,void 0,(function(){var e,n=this;return Object(R["__generator"])(this,(function(i){return e=document.querySelector("pwa-action-sheet"),e||(e=document.createElement("pwa-action-sheet"),document.body.appendChild(e)),e.header=t.title,e.cancelable=!1,e.options=t.options,e.addEventListener("onSelection",(function(t){return Object(R["__awaiter"])(n,void 0,void 0,(function(){var e;return Object(R["__generator"])(this,(function(n){return e=t.detail,r({index:e}),[2]}))}))})),[2]}))}))}))]}))}))},e}(E)),M=(new B,function(t){function e(){var e=t.call(this,{name:"Motion"})||this;return e.registerWindowListener("devicemotion","accel"),e.registerWindowListener("deviceorientation","orientation"),e}return Object(R["__extends"])(e,t),e}(E)),H=(new M,function(t){function e(){var e=t.call(this,{name:"Network",platforms:["web"]})||this;return e.listenerFunction=null,e}return Object(R["__extends"])(e,t),e.prototype.getStatus=function(){return new Promise((function(t,e){if(window.navigator){var r=window.navigator.onLine,n=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,i=n?n.type||n.effectiveType:"wifi";t({connected:r,connectionType:r?i:"none"})}else e("Network info not available")}))},e.prototype.addListener=function(t,e){var r=this,n=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,i=n?n.type||n.effectiveType:"wifi",o=e.bind(r,{connected:!0,connectionType:i}),s=e.bind(r,{connected:!1,connectionType:"none"});if(0===t.localeCompare("networkStatusChange"))return window.addEventListener("online",o),window.addEventListener("offline",s),{remove:function(){window.removeEventListener("online",o),window.removeEventListener("offline",s)}}},e}(E)),K=(new H,function(t){function e(){return t.call(this,{name:"Permissions"})||this}return Object(R["__extends"])(e,t),e.prototype.query=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var e,r,n;return Object(R["__generator"])(this,(function(i){switch(i.label){case 0:return e=window.navigator,e.permissions?(r=t.name===p.Photos?"camera":t.name,[4,e.permissions.query({name:r})]):[2,Promise.reject("This browser does not support the Permissions API")];case 1:return n=i.sent(),[2,{state:n.state}]}}))}))},e}(E)),G=(new K,function(t){function e(){return t.call(this,{name:"SplashScreen",platforms:["web"]})||this}return Object(R["__extends"])(e,t),e.prototype.show=function(t,e){return Promise.resolve()},e.prototype.hide=function(t,e){return Promise.resolve()},e}(E)),Y=(new G,function(t){function e(){var e=t.call(this,{name:"Storage",platforms:["web"]})||this;return e.KEY_PREFIX="_cap_",e}return Object(R["__extends"])(e,t),e.prototype.get=function(t){var e=this;return new Promise((function(r,n){r({value:window.localStorage.getItem(e.makeKey(t.key))})}))},e.prototype.set=function(t){var e=this;return new Promise((function(r,n){window.localStorage.setItem(e.makeKey(t.key),t.value),r()}))},e.prototype.remove=function(t){var e=this;return new Promise((function(r,n){window.localStorage.removeItem(e.makeKey(t.key)),r()}))},e.prototype.keys=function(){var t=this;return new Promise((function(e,r){e({keys:Object.keys(localStorage).filter((function(e){return t.isKey(e)})).map((function(e){return t.getKey(e)}))})}))},e.prototype.clear=function(){var t=this;return new Promise((function(e,r){Object.keys(localStorage).filter((function(e){return t.isKey(e)})).forEach((function(t){return window.localStorage.removeItem(t)})),e()}))},e.prototype.makeKey=function(t){return this.KEY_PREFIX+t},e.prototype.isKey=function(t){return 0===t.indexOf(this.KEY_PREFIX)},e.prototype.getKey=function(t){return t.substr(this.KEY_PREFIX.length)},e}(E)),z=(new Y,function(t){function e(){return t.call(this,{name:"Toast",platforms:["web"]})||this}return Object(R["__extends"])(e,t),e.prototype.show=function(t){return Object(R["__awaiter"])(this,void 0,void 0,(function(){var e,r;return Object(R["__generator"])(this,(function(n){return e=2e3,t.duration&&(e="long"===t.duration?3500:2e3),r=document.createElement("pwa-toast"),r.duration=e,r.message=t.text,document.body.appendChild(r),[2]}))}))},e}(E));new z;j(P["b"]);var X=function(t){I(P["b"],t)};function $(t){return"function"===typeof t}var J=!1,Q={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;e.stack}J=t},get useDeprecatedSynchronousErrorHandling(){return J}};function Z(t){setTimeout((function(){throw t}),0)}var tt={closed:!0,next:function(t){},error:function(t){if(Q.useDeprecatedSynchronousErrorHandling)throw t;Z(t)},complete:function(){}},et=function(){return Array.isArray||function(t){return t&&"number"===typeof t.length}}();function rt(t){return null!==t&&"object"===typeof t}var nt=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),it=nt,ot=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,o=r._unsubscribe,s=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c){var u=n[c];u.remove(this)}if($(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(h){e=h instanceof it?st(h.errors):[h]}}if(et(s)){c=-1;var a=s.length;while(++c<a){var d=s[c];if(rt(d))try{d.unsubscribe()}catch(h){e=e||[],h instanceof it?e=e.concat(st(h.errors)):e.push(h)}}}if(e)throw new it(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!==typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function st(t){return t.reduce((function(t,e){return t.concat(e instanceof it?e.errors:e)}),[])}var ct=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),ut=function(t){function e(r,n,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=tt;break;case 1:if(!r){o.destination=tt;break}if("object"===typeof r){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new at(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new at(o,r,n,i);break}return o}return R["__extends"](e,t),e.prototype[ct]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(ot),at=function(t){function e(e,r,n,i){var o,s=t.call(this)||this;s._parentSubscriber=e;var c=s;return $(r)?o=r:r&&(o=r.next,n=r.error,i=r.complete,r!==tt&&(c=Object.create(r),$(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=o,s._error=n,s._complete=i,s}return R["__extends"](e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;Q.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=Q.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):Z(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;Z(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};Q.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(r){if(this.unsubscribe(),Q.useDeprecatedSynchronousErrorHandling)throw r;Z(r)}},e.prototype.__tryOrSetError=function(t,e,r){if(!Q.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(n){return Q.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(Z(n),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(ut);function dt(t){while(t){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;t=n&&n instanceof ut?n:null}return!0}function ht(t,e,r){if(t){if(t instanceof ut)return t;if(t[ct])return t[ct]()}return t||e||r?new ut(t,e,r):new ut(tt)}var ft=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}();function pt(t){return t}function lt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return bt(t)}function bt(t){return 0===t.length?pt:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var vt=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,i=ht(t,e,r);if(n?i.add(n.call(i,this.source)):i.add(this.source||Q.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),Q.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){Q.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),dt(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return e=wt(e),new e((function(e,n){var i;i=r.subscribe((function(e){try{t(e)}catch(r){n(r),i&&i.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[ft]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:bt(t)(this)},t.prototype.toPromise=function(t){var e=this;return t=wt(t),new t((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function wt(t){if(t||(t=Q.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function yt(t,e){return new vt(e?function(r){return e.schedule(mt,0,{error:t,subscriber:r})}:function(e){return e.error(t)})}function mt(t){var e=t.error,r=t.subscriber;r.error(e)}var gt=function(t,e,r,n){function i(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function c(t){try{u(n["throw"](t))}catch(e){o(e)}}function u(t){t.done?r(t.value):i(t.value).then(s,c)}u((n=n.apply(t,e||[])).next())}))};const _t=()=>gt(void 0,void 0,void 0,(function*(){const t=new w["auth"].FacebookAuthProvider;w["auth"]().useDeviceLanguage();const e=yield w["auth"]().signInWithPopup(t),{credential:r}=e;return new g(r.accessToken)}));var Pt=function(t,e,r,n){function i(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function c(t){try{u(n["throw"](t))}catch(e){o(e)}}function u(t){t.done?r(t.value):i(t.value).then(s,c)}u((n=n.apply(t,e||[])).next())}))};const xt=()=>Pt(void 0,void 0,void 0,(function*(){try{const t=new w["auth"].GoogleAuthProvider;w["auth"]().useDeviceLanguage();const e=yield w["auth"]().signInWithPopup(t),{credential:r}=e;return new y(r.idToken)}catch(t){return Promise.reject(t)}}));var Ot=function(t,e,r,n){function i(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function c(t){try{u(n["throw"](t))}catch(e){o(e)}}function u(t){t.done?r(t.value):i(t.value).then(s,c)}u((n=n.apply(t,e||[])).next())}))};const Et=t=>Ot(void 0,void 0,void 0,(function*(){return Promise.reject(`The '${t.providerId}' provider was not implemented for web yet`)}));var St=function(t,e,r,n){function i(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function c(t){try{u(n["throw"](t))}catch(e){o(e)}}function u(t){t.done?r(t.value):i(t.value).then(s,c)}u((n=n.apply(t,e||[])).next())}))};const jt=()=>St(void 0,void 0,void 0,(function*(){try{const t=new w["auth"].TwitterAuthProvider;w["auth"]().useDeviceLanguage();const e=yield w["auth"]().signInWithPopup(t),{credential:r}=e;return new m(r.accessToken,r.secret)}catch(t){return Promise.reject(t)}}));var It=function(t,e,r,n){function i(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,o){function s(t){try{u(n.next(t))}catch(e){o(e)}}function c(t){try{u(n["throw"](t))}catch(e){o(e)}}function u(t){t.done?r(t.value):i(t.value).then(s,c)}u((n=n.apply(t,e||[])).next())}))};class Rt extends E{constructor(){super({name:"CapacitorFirebaseAuth",platforms:["web"]})}signIn(t){return It(this,void 0,void 0,(function*(){const e=(new w["auth"].GoogleAuthProvider).providerId,r=(new w["auth"].FacebookAuthProvider).providerId,n=(new w["auth"].TwitterAuthProvider).providerId,i=(new w["auth"].PhoneAuthProvider).providerId;switch(t.providerId){case e:return xt(t);case n:return jt(t);case r:return _t(t);case i:return Et(t)}return Promise.reject(`The '${t.providerId}' provider was not supported`)}))}signOut(t){return It(this,void 0,void 0,(function*(){return console.log(t),w["auth"]().signOut()}))}}const Tt=new Rt;X(Tt);const At=P["b"].CapacitorFirebaseAuth;"web"===P["a"].platform&&X(Tt);const Ct=(t,e)=>{const r=(new w["auth"].GoogleAuthProvider).providerId,n=(new w["auth"].FacebookAuthProvider).providerId,i=(new w["auth"].TwitterAuthProvider).providerId,o=(new w["auth"].PhoneAuthProvider).providerId;switch(t){case r:return Dt();case i:return Lt();case n:return kt();case o:return Ft(e.phone,e.verificationCode);default:return yt(new Error(`The '${t}' provider was not supported`))}},Dt=()=>new vt(t=>{const e=w["auth"].GoogleAuthProvider.PROVIDER_ID;At.signIn({providerId:e}).then(e=>{const r=w["auth"].GoogleAuthProvider.credential(e.idToken);w["app"]().auth().signInWithCredential(r).then(e=>{t.next(e.user),t.complete()}).catch(e=>{t.error(e)})}).catch(e=>{t.error(e)})}),Lt=()=>new vt(t=>{const e=w["auth"].TwitterAuthProvider.PROVIDER_ID;At.signIn({providerId:e}).then(e=>{const r=w["auth"].TwitterAuthProvider.credential(e.idToken,e.secret);w["app"]().auth().signInWithCredential(r).then(e=>{t.next(e.user),t.complete()}).catch(e=>t.error(e))}).catch(e=>t.error(e))}),kt=()=>new vt(t=>{const e=w["auth"].FacebookAuthProvider.PROVIDER_ID;At.signIn({providerId:e}).then(e=>{const r=w["auth"].FacebookAuthProvider.credential(e.idToken);w["app"]().auth().signInWithCredential(r).then(e=>{t.next(e.user),t.complete()}).catch(e=>t.error(e))}).catch(e=>t.error(e))}),Ft=(t,e)=>new vt(r=>{const n=w["auth"].PhoneAuthProvider.PROVIDER_ID;At.signIn({providerId:n,data:{phone:t,verificationCode:e}}).then(t=>{if(!t.verificationCode)return r.complete();const e=w["auth"].PhoneAuthProvider.credential(t.verificationId,t.verificationCode);w["app"]().auth().signInWithCredential(e).then(t=>{r.next(t.user),r.complete()}).catch(t=>r.error(t))}).catch(t=>r.error(t))}),Ut=()=>new vt(t=>At.addListener("cfaSignInPhoneOnCodeSent",e=>{t.next(e.verificationId),t.complete()})),Nt=()=>new vt(t=>At.addListener("cfaSignInPhoneOnCodeReceived",e=>{t.next(e),t.complete()})),qt=()=>new vt(t=>{At.signOut({}).then(()=>{w["app"]().auth().signOut().then(()=>{t.next(),t.complete()}).catch(e=>t.error(e))})});function Wt(t){return t&&"function"===typeof t.schedule}var Vt=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function Bt(t,e){return new vt((function(r){var n=new ot,i=0;return n.add(e.schedule((function(){i!==t.length?(r.next(t[i++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}function Mt(t,e){return e?Bt(t,e):new vt(Vt(t))}function Ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Wt(r)?(t.pop(),Bt(t,r)):Mt(t)}function Kt(t,e){return function(r){if("function"!==typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Gt(t,e))}}var Gt=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Yt(t,this.project,this.thisArg))},t}(),Yt=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return R["__extends"](e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(ut),zt=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Z),e}};function Xt(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var $t=Xt(),Jt=function(t){return function(e){var r=t[$t]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(1);return"function"===typeof r.return&&e.add((function(){r.return&&r.return()})),e}},Qt=function(t){return function(e){var r=t[ft]();if("function"!==typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Zt=function(t){return t&&"number"===typeof t.length&&"function"!==typeof t};function te(t){return!!t&&"function"!==typeof t.subscribe&&"function"===typeof t.then}var ee=function(t){if(t&&"function"===typeof t[ft])return Qt(t);if(Zt(t))return Vt(t);if(te(t))return zt(t);if(t&&"function"===typeof t[$t])return Jt(t);var e=rt(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function re(t,e){return new vt((function(r){var n=new ot;return n.add(e.schedule((function(){var i=t[ft]();n.add(i.subscribe({next:function(t){n.add(e.schedule((function(){return r.next(t)})))},error:function(t){n.add(e.schedule((function(){return r.error(t)})))},complete:function(){n.add(e.schedule((function(){return r.complete()})))}}))}))),n}))}function ne(t,e){return new vt((function(r){var n=new ot;return n.add(e.schedule((function(){return t.then((function(t){n.add(e.schedule((function(){r.next(t),n.add(e.schedule((function(){return r.complete()})))})))}),(function(t){n.add(e.schedule((function(){return r.error(t)})))}))}))),n}))}function ie(t,e){if(!t)throw new Error("Iterable cannot be null");return new vt((function(r){var n,i=new ot;return i.add((function(){n&&"function"===typeof n.return&&n.return()})),i.add(e.schedule((function(){n=t[$t](),i.add(e.schedule((function(){if(!r.closed){var t,e;try{var i=n.next();t=i.value,e=i.done}catch(o){return void r.error(o)}e?r.complete():(r.next(t),this.schedule())}})))}))),i}))}function oe(t){return t&&"function"===typeof t[ft]}function se(t){return t&&"function"===typeof t[$t]}function ce(t,e){if(null!=t){if(oe(t))return re(t,e);if(te(t))return ne(t,e);if(Zt(t))return Bt(t,e);if(se(t)||"string"===typeof t)return ie(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function ue(t,e){return e?ce(t,e):t instanceof vt?t:new vt(ee(t))}var ae=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,r}return R["__extends"](e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(ut),de=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R["__extends"](e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(ut);function he(t,e){if(!e.closed)return t instanceof vt?t.subscribe(e):ee(t)(e)}function fe(t,e){return"function"===typeof e?function(r){return r.pipe(fe((function(r,n){return ue(t(r,n)).pipe(Kt((function(t,i){return e(r,t,n,i)})))})))}:function(e){return e.lift(new pe(t))}}var pe=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new le(t,this.project))},t}(),le=function(t){function e(e,r){var n=t.call(this,e)||this;return n.project=r,n.index=0,n}return R["__extends"](e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(n){return void this.destination.error(n)}this._innerSub(e)},e.prototype._innerSub=function(t){var e=this.innerSubscription;e&&e.unsubscribe();var r=new ae(this),n=this.destination;n.add(r),this.innerSubscription=he(t,r),this.innerSubscription!==r&&n.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(de);const be=()=>lt(fe(t=>{if(t){const{uid:e,providerId:r,displayName:n,photoURL:i,phoneNumber:o,email:s}=t;return Ht({uid:e,providerId:r,displayName:n,photoURL:i,phoneNumber:o,email:s})}return Ht(t)})),ve=()=>lt(fe(({userCredential:t})=>{if(t){const{uid:e,providerId:r,displayName:n,photoURL:i,phoneNumber:o,email:s}=t.user;return Ht({uid:e,providerId:r,displayName:n,photoURL:i,phoneNumber:o,email:s})}return Ht(null)}))}}]);
//# sourceMappingURL=chunk-39150768.ce382294.js.map